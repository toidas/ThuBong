{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport fetch from 'isomorphic-unfetch';\nimport Environment from '../config/Environment.js';\n\nvar UserService =\n/*#__PURE__*/\nfunction () {\n  function UserService() {\n    _classCallCheck(this, UserService);\n  }\n\n  _createClass(UserService, null, [{\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(data) {\n        var res, result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(Environment.SERVER + '/auth/login', {\n                  method: 'POST',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                  },\n                  body: _JSON$stringify(data)\n                });\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                result = _context.sent;\n                return _context.abrupt(\"return\", result);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function login(_x) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"getUser\",\n    value: function () {\n      var _getUser = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(token) {\n        var res, result;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(Environment.SERVER + '/api/users/me', {\n                  method: 'GET',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                  }\n                });\n\n              case 2:\n                res = _context2.sent;\n                _context2.next = 5;\n                return res.json();\n\n              case 5:\n                result = _context2.sent;\n                return _context2.abrupt(\"return\", result);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getUser(_x2) {\n        return _getUser.apply(this, arguments);\n      }\n\n      return getUser;\n    }()\n  }, {\n    key: \"editUser\",\n    value: function () {\n      var _editUser = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(data, token) {\n        var res, result;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return fetch(Environment.SERVER + '/api/users/edit-user', {\n                  method: 'PUT',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                  },\n                  body: _JSON$stringify(data)\n                });\n\n              case 2:\n                res = _context3.sent;\n                _context3.next = 5;\n                return res.json();\n\n              case 5:\n                result = _context3.sent;\n                return _context3.abrupt(\"return\", result);\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function editUser(_x3, _x4) {\n        return _editUser.apply(this, arguments);\n      }\n\n      return editUser;\n    }()\n  }, {\n    key: \"changePass\",\n    value: function () {\n      var _changePass = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(data, token) {\n        var res, result;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return fetch(Environment.SERVER + '/api/users/change-pass', {\n                  method: 'PUT',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                  },\n                  body: _JSON$stringify(data)\n                });\n\n              case 2:\n                res = _context4.sent;\n                _context4.next = 5;\n                return res.json();\n\n              case 5:\n                result = _context4.sent;\n                return _context4.abrupt(\"return\", result);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function changePass(_x5, _x6) {\n        return _changePass.apply(this, arguments);\n      }\n\n      return changePass;\n    }()\n  }]);\n\n  return UserService;\n}();\n\nexport { UserService as default };","map":{"version":3,"sources":["D:\\project\\nextJS\\ThuBong\\service\\UserService.js"],"names":["fetch","Environment","UserService","data","SERVER","method","headers","body","res","json","result","token"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;IAEqBC,W;;;;;;;;;;;;gDACEC,I;;;;;;;uBACGH,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,aAApB,EAAmC;AACtDC,kBAAAA,MAAM,EAAE,MAD8C;AAEtDC,kBAAAA,OAAO,EAAE;AACL,8BAAU,kBADL;AAEL,oCAAgB;AAFX,mBAF6C;AAMtDC,kBAAAA,IAAI,EAAE,gBAAeJ,IAAf;AANgD,iBAAnC,C;;;AAAjBK,gBAAAA,G;;uBAQeA,GAAG,CAACC,IAAJ,E;;;AAAfC,gBAAAA,M;iDACCA,M;;;;;;;;;;;;;;;;;;;;;iDAGUC,K;;;;;;;uBACCX,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,eAApB,EAAqC;AACxDC,kBAAAA,MAAM,EAAE,KADgD;AAExDC,kBAAAA,OAAO,EAAE;AACL,8BAAU,kBADL;AAEL,oCAAgB,kBAFX;AAGL,qCAAiB,YAAUK;AAHtB;AAF+C,iBAArC,C;;;AAAjBH,gBAAAA,G;;uBAQeA,GAAG,CAACC,IAAJ,E;;;AAAfC,gBAAAA,M;kDACCA,M;;;;;;;;;;;;;;;;;;;;;iDAGWP,I,EAAOQ,K;;;;;;;uBACPX,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,sBAApB,EAA4C;AAC/DC,kBAAAA,MAAM,EAAE,KADuD;AAE/DC,kBAAAA,OAAO,EAAE;AACL,8BAAU,kBADL;AAEL,oCAAgB,kBAFX;AAGL,qCAAiB,YAAUK;AAHtB,mBAFsD;AAO/DJ,kBAAAA,IAAI,EAAE,gBAAeJ,IAAf;AAPyD,iBAA5C,C;;;AAAjBK,gBAAAA,G;;uBASeA,GAAG,CAACC,IAAJ,E;;;AAAfC,gBAAAA,M;kDACCA,M;;;;;;;;;;;;;;;;;;;;;iDAGaP,I,EAAOQ,K;;;;;;;uBACTX,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,wBAApB,EAA8C;AACjEC,kBAAAA,MAAM,EAAE,KADyD;AAEjEC,kBAAAA,OAAO,EAAE;AACL,8BAAU,kBADL;AAEL,oCAAgB,kBAFX;AAGL,qCAAiB,YAAUK;AAHtB,mBAFwD;AAOjEJ,kBAAAA,IAAI,EAAE,gBAAeJ,IAAf;AAP2D,iBAA9C,C;;;AAAjBK,gBAAAA,G;;uBASeA,GAAG,CAACC,IAAJ,E;;;AAAfC,gBAAAA,M;kDACCA,M;;;;;;;;;;;;;;;;;;;;;SApDMR,W","sourcesContent":["import fetch from 'isomorphic-unfetch'\r\nimport Environment from '../config/Environment.js';\r\n\r\nexport default class UserService {\r\n    static async login(data) {\r\n        const res = await fetch(Environment.SERVER+'/auth/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        const result = await res.json();\r\n        return result;\r\n    }\r\n\r\n    static async getUser(token) {\r\n        const res = await fetch(Environment.SERVER+'/api/users/me', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer '+token\r\n            }\r\n        })\r\n        const result = await res.json();\r\n        return result;\r\n    }\r\n\r\n    static async editUser(data , token) {\r\n        const res = await fetch(Environment.SERVER+'/api/users/edit-user', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer '+token\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        const result = await res.json();\r\n        return result;\r\n    }\r\n\r\n    static async changePass(data , token) {\r\n        const res = await fetch(Environment.SERVER+'/api/users/change-pass', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer '+token\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        const result = await res.json();\r\n        return result;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}