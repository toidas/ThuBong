{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport fetch from 'isomorphic-unfetch';\nimport Environment from '../config/Environment.js';\n\nvar BillService =\n/*#__PURE__*/\nfunction () {\n  function BillService() {\n    _classCallCheck(this, BillService);\n  }\n\n  _createClass(BillService, null, [{\n    key: \"getBill\",\n    value: function () {\n      var _getBill = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(token) {\n        var res, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(Environment.SERVER + '/api/bill/get-bill', {\n                  method: 'GET',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                  }\n                });\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                data = _context.sent;\n                return _context.abrupt(\"return\", data);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getBill(_x) {\n        return _getBill.apply(this, arguments);\n      }\n\n      return getBill;\n    }()\n  }, {\n    key: \"getBillByType\",\n    value: function () {\n      var _getBillByType = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(type, token, pageNum, pageSize) {\n        var res, data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                pageNum -= 1;\n                _context2.next = 3;\n                return fetch(Environment.SERVER + '/api/bill/get-bill?type=' + type + '&pageNum=' + pageNum + '&pageSize=' + pageSize, {\n                  method: 'GET',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                  }\n                });\n\n              case 3:\n                res = _context2.sent;\n                _context2.next = 6;\n                return res.json();\n\n              case 6:\n                data = _context2.sent;\n                return _context2.abrupt(\"return\", data);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getBillByType(_x2, _x3, _x4, _x5) {\n        return _getBillByType.apply(this, arguments);\n      }\n\n      return getBillByType;\n    }()\n  }, {\n    key: \"getSumPrice\",\n    value: function () {\n      var _getSumPrice = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(type, token) {\n        var res, data;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return fetch(Environment.SERVER + '/api/bill/get-sum-price?type=' + type, {\n                  method: 'GET',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                  }\n                });\n\n              case 2:\n                res = _context3.sent;\n                data = 9;\n                console.log(res);\n\n                if (!(res != null)) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                _context3.next = 8;\n                return res.json();\n\n              case 8:\n                data = _context3.sent;\n\n              case 9:\n                return _context3.abrupt(\"return\", data);\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getSumPrice(_x6, _x7) {\n        return _getSumPrice.apply(this, arguments);\n      }\n\n      return getSumPrice;\n    }()\n  }, {\n    key: \"updateBill\",\n    value: function () {\n      var _updateBill = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(data, token) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", fetch(Environment.SERVER + '/api/bill/create', {\n                  method: 'POST',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                  },\n                  body: _JSON$stringify(data)\n                }));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function updateBill(_x8, _x9) {\n        return _updateBill.apply(this, arguments);\n      }\n\n      return updateBill;\n    }()\n  }, {\n    key: \"deleteBill\",\n    value: function () {\n      var _deleteBill = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(idBill, token) {\n        var res, data;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return fetch(Environment.SERVER + '/api/bill/delete/' + idBill, {\n                  method: 'DELETE',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                  }\n                });\n\n              case 2:\n                res = _context5.sent;\n                _context5.next = 5;\n                return res.json();\n\n              case 5:\n                data = _context5.sent;\n                return _context5.abrupt(\"return\", data);\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function deleteBill(_x10, _x11) {\n        return _deleteBill.apply(this, arguments);\n      }\n\n      return deleteBill;\n    }()\n  }]);\n\n  return BillService;\n}();\n\nexport { BillService as default };","map":{"version":3,"sources":["D:\\project\\nextJS\\ThuBong\\service\\BillService.js"],"names":["fetch","Environment","BillService","token","SERVER","method","headers","res","json","data","type","pageNum","pageSize","console","log","body","idBill"],"mappings":";;;;;AACA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;IAGqBC,W;;;;;;;;;;;;gDAEIC,K;;;;;;;uBACCH,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,oBAApB,EAAyC;AAC5DC,kBAAAA,MAAM,EAAE,KADoD;AAE5DC,kBAAAA,OAAO,EAAE;AACL,8BAAU,kBADL;AAEL,oCAAgB,kBAFX;AAGL,qCAAiB,YAAUH;AAHtB;AAFmD,iBAAzC,C;;;AAAjBI,gBAAAA,G;;uBAQaA,GAAG,CAACC,IAAJ,E;;;AAAbC,gBAAAA,I;iDACCA,I;;;;;;;;;;;;;;;;;;;;;iDAGgBC,I,EAAKP,K,EAAMQ,O,EAAQC,Q;;;;;;AAC1CD,gBAAAA,OAAO,IAAI,CAAX;;uBACkBX,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,0BAAnB,GAA8CM,IAA9C,GAAmD,WAAnD,GAA+DC,OAA/D,GAAuE,YAAvE,GAAoFC,QAArF,EAA8F;AACjHP,kBAAAA,MAAM,EAAE,KADyG;AAEjHC,kBAAAA,OAAO,EAAE;AACL,8BAAU,kBADL;AAEL,oCAAgB,kBAFX;AAGL,qCAAiB,YAAUH;AAHtB;AAFwG,iBAA9F,C;;;AAAjBI,gBAAAA,G;;uBAQaA,GAAG,CAACC,IAAJ,E;;;AAAbC,gBAAAA,I;kDACCA,I;;;;;;;;;;;;;;;;;;;;;iDAGcC,I,EAAKP,K;;;;;;;uBACRH,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,+BAAnB,GAAmDM,IAApD,EAAyD;AAC5EL,kBAAAA,MAAM,EAAE,KADoE;AAE5EC,kBAAAA,OAAO,EAAE;AACL,8BAAU,kBADL;AAEL,oCAAgB,kBAFX;AAGL,qCAAiB,YAAUH;AAHtB;AAFmE,iBAAzD,C;;;AAAjBI,gBAAAA,G;AAQFE,gBAAAA,I,GAAO,C;AACXI,gBAAAA,OAAO,CAACC,GAAR,CAAYP,GAAZ;;sBACGA,GAAG,IAAI,I;;;;;;uBACOA,GAAG,CAACC,IAAJ,E;;;AAAbC,gBAAAA,I;;;kDAEGA,I;;;;;;;;;;;;;;;;;;;;;iDAGaA,I,EAAKN,K;;;;;kDAClBH,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,kBAApB,EAAwC;AAChDC,kBAAAA,MAAM,EAAE,MADwC;AAEhDC,kBAAAA,OAAO,EAAE;AACL,8BAAU,kBADL;AAEL,oCAAgB,kBAFX;AAGL,qCAAiB,YAAUH;AAHtB,mBAFuC;AAOhDY,kBAAAA,IAAI,EAAE,gBAAeN,IAAf;AAP0C,iBAAxC,C;;;;;;;;;;;;;;;;;;;;;iDAWQO,M,EAAOb,K;;;;;;;uBACTH,KAAK,CAACC,WAAW,CAACG,MAAZ,GAAmB,mBAAnB,GAAuCY,MAAxC,EAAiD;AACnEX,kBAAAA,MAAM,EAAE,QAD2D;AAEnEC,kBAAAA,OAAO,EAAE;AACN,8BAAU,kBADJ;AAEN,oCAAgB,kBAFV;AAGN,qCAAiB,YAAUH;AAHrB;AAF0D,iBAAjD,C;;;AAAjBI,gBAAAA,G;;uBAQaA,GAAG,CAACC,IAAJ,E;;;AAAbC,gBAAAA,I;kDACCA,I;;;;;;;;;;;;;;;;;;;;;SApEMP,W","sourcesContent":["\r\nimport fetch from 'isomorphic-unfetch'\r\nimport Environment from '../config/Environment.js';\r\n\r\n\r\nexport default class BillService {\r\n\r\n    static async getBill(token) {     \r\n        const res = await fetch(Environment.SERVER+'/api/bill/get-bill',{\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer '+token\r\n            }\r\n        });\r\n        const data = await res.json();\r\n        return data;\r\n    }\r\n\r\n    static async getBillByType(type,token,pageNum,pageSize) {     \r\n        pageNum -= 1;\r\n        const res = await fetch(Environment.SERVER+'/api/bill/get-bill?type='+type+'&pageNum='+pageNum+'&pageSize='+pageSize,{\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer '+token\r\n            }\r\n        });\r\n        const data = await res.json();\r\n        return data;\r\n    }\r\n\r\n    static async getSumPrice(type,token) {     \r\n        const res = await fetch(Environment.SERVER+'/api/bill/get-sum-price?type='+type,{\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer '+token\r\n            }\r\n        });\r\n        let data = 9;\r\n        console.log(res);\r\n        if(res != null){\r\n            data = await res.json();\r\n        }\r\n        return data;\r\n    }\r\n\r\n    static async updateBill(data,token) {\r\n        return fetch(Environment.SERVER+'/api/bill/create', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer '+token\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n    }\r\n\r\n    static async deleteBill(idBill,token) {     \r\n        const res = await fetch(Environment.SERVER+'/api/bill/delete/'+idBill , {\r\n             method: 'DELETE',\r\n             headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer '+token\r\n            }\r\n        });\r\n        const data = await res.json();\r\n        return data;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}