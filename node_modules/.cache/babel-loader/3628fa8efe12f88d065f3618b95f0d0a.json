{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\project\\\\nextJS\\\\ThuBong\\\\components\\\\BillRow.js\";\nimport React from \"react\";\nimport BillService from '../service/BillService.js';\nimport Popup from \"reactjs-popup\";\nimport AddBillPopup from '../components/AddBillPopup.js';\nvar imgStyle = {\n  width: \"100px\",\n  height: \"70px\"\n};\n\nvar BillRow =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BillRow, _React$Component);\n\n  function BillRow(props) {\n    var _this;\n\n    _classCallCheck(this, BillRow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BillRow).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"openModal\", function () {\n      _this.setState({\n        item: _this.props.item,\n        open: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeModal\", function () {\n      _this.props.refreshDataMethod();\n\n      _this.setState({\n        open: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"convertTimeStamp\", function (unix_timestamp) {\n      // Create a new JavaScript Date object based on the timestamp\n      // multiplied by 1000 so that the argument is in milliseconds, not seconds.\n      var date = new Date(unix_timestamp);\n      var day = date.getDate();\n      var month = date.getMonth() + 1;\n      var year = date.getFullYear(); // Hours part from the timestamp\n\n      var hours = date.getHours(); // Minutes part from the timestamp\n\n      var minutes = \"0\" + date.getMinutes(); // Seconds part from the timestamp\n\n      var seconds = \"0\" + date.getSeconds(); // Will display time in 10:30:23 format\n\n      var formattedTime = day + \"-\" + month + \"-\" + year + \" \" + hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);\n\n      _this.setState({\n        date: formattedTime + \"\"\n      }); //console.log(date + \" / \"+formattedTime);\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteBill\", function (id) {\n      if (window.confirm('bạn có chắc muốn xóa bill này')) {\n        _this.deleteBillAsync.bind(_assertThisInitialized(_this))(id);\n      } else {\n        console.log(\"No\");\n      }\n    });\n\n    _this.state = {\n      open: false,\n      item: null,\n      date: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(BillRow, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.convertTimeStamp(this.props.item.createDate);\n    }\n  }, {\n    key: \"deleteBillAsync\",\n    value: function () {\n      var _deleteBillAsync = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(id) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return BillService.deleteBill(id, this.props.token);\n\n              case 2:\n                this.props.refreshDataMethod();\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function deleteBillAsync(_x) {\n        return _deleteBillAsync.apply(this, arguments);\n      }\n\n      return deleteBillAsync;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.props.item.id), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.props.item.name), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.props.item.billProduct.map(function (eItem, key) {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, eItem.product.name, \" : \", eItem.amount);\n      })), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.props.item.price), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.props.item.customerName), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, this.props.item.customerPhone), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, this.props.item.createBy != null ? this.props.item.createBy.name : \"\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.state.date), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-warning\",\n        onClick: this.openModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"S\\u1EEDa\")), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-warning\",\n        onClick: function onClick() {\n          return _this2.deleteBill(_this2.props.item.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"X\\xF3a\")), React.createElement(Popup, {\n        open: this.state.open,\n        closeOnDocumentClick: true,\n        onClose: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(AddBillPopup, {\n        token: this.props.token,\n        kind: this.props.kind,\n        item: this.state.item,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return BillRow;\n}(React.Component);\n\nexport { BillRow as default };","map":{"version":3,"sources":["D:\\project\\nextJS\\ThuBong\\components\\BillRow.js"],"names":["BillService","Popup","AddBillPopup","imgStyle","width","height","BillRow","props","setState","item","open","refreshDataMethod","unix_timestamp","date","Date","day","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","formattedTime","substr","id","window","confirm","deleteBillAsync","bind","console","log","state","convertTimeStamp","createDate","deleteBill","token","name","billProduct","map","eItem","key","product","amount","price","customerName","customerPhone","createBy","openModal","closeModal","kind","React","Component"],"mappings":";;;;;;;;;;;AAAA,OAAOA,WAAP,MAAwB,2BAAxB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AAEA,IAAMC,QAAQ,GAAG;AACbC,EAAAA,KAAK,EAAE,OADM;AAEbC,EAAAA,MAAM,EAAE;AAFK,CAAjB;;IAKqBC,O;;;;;AAEjB,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,iFAAMA,KAAN;;AADe,gEAaP,YAAM;AACd,YAAKC,QAAL,CAAc;AAAEC,QAAAA,IAAI,EAAE,MAAKF,KAAL,CAAWE,IAAnB;AAAyBC,QAAAA,IAAI,EAAE;AAA/B,OAAd;AACH,KAfkB;;AAAA,iEAiBN,YAAM;AACf,YAAKH,KAAL,CAAWI,iBAAX;;AACA,YAAKH,QAAL,CAAc;AAAEE,QAAAA,IAAI,EAAE;AAAR,OAAd;AACH,KApBkB;;AAAA,uEAsBA,UAACE,cAAD,EAAoB;AACnC;AACA;AACA,UAAIC,IAAI,GAAG,IAAIC,IAAJ,CAASF,cAAT,CAAX;AAEA,UAAIG,GAAG,GAAGF,IAAI,CAACG,OAAL,EAAV;AACA,UAAIC,KAAK,GAAGJ,IAAI,CAACK,QAAL,KAAgB,CAA5B;AACA,UAAIC,IAAI,GAAGN,IAAI,CAACO,WAAL,EAAX,CAPmC,CAQnC;;AACA,UAAIC,KAAK,GAAGR,IAAI,CAACS,QAAL,EAAZ,CATmC,CAUnC;;AACA,UAAIC,OAAO,GAAG,MAAMV,IAAI,CAACW,UAAL,EAApB,CAXmC,CAYnC;;AACA,UAAIC,OAAO,GAAG,MAAMZ,IAAI,CAACa,UAAL,EAApB,CAbmC,CAenC;;AACA,UAAIC,aAAa,GAAGZ,GAAG,GAAE,GAAL,GAASE,KAAT,GAAe,GAAf,GAAmBE,IAAnB,GAAyB,GAAzB,GAA6BE,KAA7B,GAAqC,GAArC,GAA2CE,OAAO,CAACK,MAAR,CAAe,CAAC,CAAhB,CAA3C,GAAgE,GAAhE,GAAsEH,OAAO,CAACG,MAAR,CAAe,CAAC,CAAhB,CAA1F;;AACA,YAAKpB,QAAL,CAAc;AACVK,QAAAA,IAAI,EAAGc,aAAa,GAAC;AADX,OAAd,EAjBmC,CAoBnC;;AACH,KA3CkB;;AAAA,iEA6CN,UAACE,EAAD,EAAQ;AACjB,UAAGC,MAAM,CAACC,OAAP,CAAe,+BAAf,CAAH,EAAmD;AAC/C,cAAKC,eAAL,CAAqBC,IAArB,gCAAgCJ,EAAhC;AACH,OAFD,MAEK;AACDK,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACH;AACJ,KAnDkB;;AAEf,UAAKC,KAAL,GAAc;AACV1B,MAAAA,IAAI,EAAE,KADI;AAEVD,MAAAA,IAAI,EAAE,IAFI;AAGVI,MAAAA,IAAI,EAAC;AAHK,KAAd;AAFe;AAOlB;;;;yCAEoB;AACjB,WAAKwB,gBAAL,CAAsB,KAAK9B,KAAL,CAAWE,IAAX,CAAgB6B,UAAtC;AACH;;;;;;gDA0CqBT,E;;;;;;uBAEZ7B,WAAW,CAACuC,UAAZ,CAAuBV,EAAvB,EAA0B,KAAKtB,KAAL,CAAWiC,KAArC,C;;;AACN,qBAAKjC,KAAL,CAAWI,iBAAX;;;;;;;;;;;;;;;;;;6BAGK;AAAA;;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKJ,KAAL,CAAWE,IAAX,CAAgBoB,EADrB,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKtB,KAAL,CAAWE,IAAX,CAAgBgC,IADrB,CAJJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKlC,KAAL,CAAWE,IAAX,CAAgBiC,WAAhB,CAA4BC,GAA5B,CAAgC,UAACC,KAAD,EAAQC,GAAR;AAAA,eAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,KAAK,CAACE,OAAN,CAAcL,IAAnB,SAA4BG,KAAK,CAACG,MAAlC,CAD6B;AAAA,OAAhC,CADL,CAPJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKxC,KAAL,CAAWE,IAAX,CAAgBuC,KADrB,CAZJ,EAeI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKzC,KAAL,CAAWE,IAAX,CAAgBwC,YADrB,CAfJ,EAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAK1C,KAAL,CAAWE,IAAX,CAAgByC,aADrB,CAlBJ,EAqBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAK3C,KAAL,CAAWE,IAAX,CAAgB0C,QAAhB,IAA4B,IAA5B,GAAmC,KAAK5C,KAAL,CAAWE,IAAX,CAAgB0C,QAAhB,CAAyBV,IAA5D,GAAmE,EADxE,CArBJ,EAwBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKL,KAAL,CAAWvB,IADhB,CAxBJ,EA2BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAC,iBAA5B;AAA8C,QAAA,OAAO,EAAE,KAAKuC,SAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CA3BJ,EA8BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAC,iBAA5B;AAA8C,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACb,UAAL,CAAgB,MAAI,CAAChC,KAAL,CAAWE,IAAX,CAAgBoB,EAAhC,CAAN;AAAA,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CA9BJ,EAiCI,oBAAC,KAAD;AACI,QAAA,IAAI,EAAE,KAAKO,KAAL,CAAW1B,IADrB;AAEI,QAAA,oBAAoB,MAFxB;AAGI,QAAA,OAAO,EAAE,KAAK2C,UAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI,oBAAC,YAAD;AAAc,QAAA,KAAK,EAAE,KAAK9C,KAAL,CAAWiC,KAAhC;AAAuC,QAAA,IAAI,EAAE,KAAKjC,KAAL,CAAW+C,IAAxD;AAA8D,QAAA,IAAI,EAAE,KAAKlB,KAAL,CAAW3B,IAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CAjCJ,CADJ;AA2CH;;;;EAzGgC8C,KAAK,CAACC,S;;SAAtBlD,O","sourcesContent":["import BillService from '../service/BillService.js';\r\nimport Popup from \"reactjs-popup\";\r\nimport AddBillPopup from '../components/AddBillPopup.js';\r\n\r\nconst imgStyle = {\r\n    width: \"100px\",\r\n    height: \"70px\"\r\n}\r\n\r\nexport default class BillRow extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = ({\r\n            open: false,\r\n            item: null,\r\n            date:\"\"\r\n        })\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.convertTimeStamp(this.props.item.createDate);\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({ item: this.props.item, open: true });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.props.refreshDataMethod();\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    convertTimeStamp = (unix_timestamp) => {\r\n        // Create a new JavaScript Date object based on the timestamp\r\n        // multiplied by 1000 so that the argument is in milliseconds, not seconds.\r\n        let date = new Date(unix_timestamp);\r\n\r\n        let day = date.getDate();\r\n        let month = date.getMonth()+1;\r\n        let year = date.getFullYear();\r\n        // Hours part from the timestamp\r\n        let hours = date.getHours();\r\n        // Minutes part from the timestamp\r\n        let minutes = \"0\" + date.getMinutes();\r\n        // Seconds part from the timestamp\r\n        let seconds = \"0\" + date.getSeconds();\r\n\r\n        // Will display time in 10:30:23 format\r\n        let formattedTime = day +\"-\"+month+\"-\"+year+ \" \"+hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);\r\n        this.setState({\r\n            date : formattedTime+\"\"\r\n        })\r\n        //console.log(date + \" / \"+formattedTime);\r\n    }\r\n\r\n    deleteBill = (id) => {\r\n        if(window.confirm('bạn có chắc muốn xóa bill này')){\r\n            this.deleteBillAsync.bind(this)(id);\r\n        }else{\r\n            console.log(\"No\");\r\n        }\r\n    }\r\n\r\n    async deleteBillAsync(id){\r\n        //console.log(id);\r\n        await BillService.deleteBill(id,this.props.token);\r\n        this.props.refreshDataMethod();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <tr >\r\n                <th>\r\n                    {this.props.item.id}\r\n                </th>\r\n                <th>\r\n                    {this.props.item.name}\r\n                </th>\r\n                <th>\r\n                    {this.props.item.billProduct.map((eItem, key) =>\r\n                        <li>{eItem.product.name} : {eItem.amount}</li>\r\n                    )}\r\n                </th>\r\n                <th>\r\n                    {this.props.item.price}\r\n                </th>\r\n                <th>\r\n                    {this.props.item.customerName}\r\n                </th>\r\n                <th>\r\n                    {this.props.item.customerPhone}\r\n                </th>\r\n                <th>\r\n                    {this.props.item.createBy != null ? this.props.item.createBy.name : \"\"}\r\n                </th>\r\n                <th>\r\n                    {this.state.date}\r\n                </th>\r\n                <th>\r\n                    <button type=\"button\" class=\"btn btn-warning\" onClick={this.openModal}>Sửa</button>\r\n                </th>\r\n                <th>\r\n                    <button type=\"button\" class=\"btn btn-warning\" onClick={() => this.deleteBill(this.props.item.id)}>Xóa</button>\r\n                </th>\r\n                <Popup\r\n                    open={this.state.open}\r\n                    closeOnDocumentClick\r\n                    onClose={this.closeModal}\r\n                >\r\n                    <AddBillPopup token={this.props.token} kind={this.props.kind} item={this.state.item}/>\r\n                </Popup>\r\n            </tr>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}