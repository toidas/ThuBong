{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\project\\\\nextJS\\\\ThuBong\\\\components\\\\AddProductPopup.js\";\nimport React from \"react\";\nimport ProductService from '../service/ProductService.js';\n\nvar AddProductPopup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddProductPopup, _React$Component);\n\n  function AddProductPopup(props) {\n    var _this;\n\n    _classCallCheck(this, AddProductPopup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddProductPopup).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"checkString\", function (text) {\n      if (text.trim() === \"\") {\n        return false;\n      }\n\n      return true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submitProduct\", function () {\n      if (!_this.checkString(_this.state.name) || !_this.checkString(_this.state.price + \"\") || !_this.checkString(_this.state.amount + \"\")) {\n        alert('cần điền đầy đủ các trường');\n        return;\n      }\n\n      if (!_this.checkNumber(_this.state.price) || !_this.checkNumber(_this.state.amount)) {\n        alert('giá và số lượng cần là chữ số');\n        return;\n      }\n\n      var data = null;\n\n      if (_this.state.id == null || _this.state.id == \"\") {\n        data = {\n          \"amount\": _this.state.amount,\n          \"image\": _this.state.image,\n          \"name\": _this.state.name,\n          \"price\": _this.state.price\n        };\n      } else {\n        data = {\n          \"amount\": _this.state.amount,\n          \"image\": _this.state.image,\n          \"name\": _this.state.name,\n          \"price\": _this.state.price,\n          \"id\": _this.state.id\n        };\n      }\n\n      _this.setState({\n        id: \"\",\n        name: \"\",\n        image: \"\",\n        amount: \"\",\n        price: \"\"\n      });\n\n      ProductService.updateProduct(data, _this.props.token).then(function (result) {\n        alert('update sản phẩm thành công');\n        console.log(result);\n      }).catch(function (error) {\n        alert('update sản phẩm bị lỗi');\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    });\n\n    _this.state = {\n      id: \"\",\n      name: \"\",\n      image: \"\",\n      amount: \"\",\n      price: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(AddProductPopup, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (this.props.item != null) {\n        this.setState({\n          id: this.props.item.id,\n          name: this.props.item.name,\n          image: this.props.item.image,\n          amount: this.props.item.amount,\n          price: this.props.item.price\n        });\n      }\n    }\n  }, {\n    key: \"checkNumber\",\n    value: function checkNumber(number) {\n      var isnum = /^\\d+$/.test(number);\n      return isnum;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Update S\\u1EA3n Ph\\u1EA9m\"), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, this.state.id === \"\" ? null : React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"ID:\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"id\",\n        value: this.state.id,\n        onChange: this.onChange,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"T\\xEAn SP:\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: this.state.name,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"\\u1EA2nh:\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"image\",\n        value: this.state.image,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"S\\u1ED1 l\\u01B0\\u1EE3ng:\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"amount\",\n        value: this.state.amount,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Gi\\xE1:\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"price\",\n        value: this.state.price,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))))), React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-primary\",\n        onClick: this.submitProduct,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Submit\"));\n    }\n  }]);\n\n  return AddProductPopup;\n}(React.Component);\n\nexport { AddProductPopup as default };","map":{"version":3,"sources":["D:\\project\\nextJS\\ThuBong\\components\\AddProductPopup.js"],"names":["ProductService","AddProductPopup","props","text","trim","checkString","state","name","price","amount","alert","checkNumber","data","id","image","setState","updateProduct","token","then","result","console","log","catch","error","event","target","value","item","number","isnum","test","onChange","submitProduct","React","Component"],"mappings":"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","sourcesContent":["import ProductService from '../service/ProductService.js';\r\n\r\n\r\nexport default class AddProductPopup extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            id: \"\",\r\n            name: \"\",\r\n            image: \"\",\r\n            amount: \"\",\r\n            price: \"\"\r\n        };\r\n    }\r\n\r\n    componentWillMount() {\r\n        if(this.props.item != null){\r\n            this.setState({\r\n                id: this.props.item.id,\r\n                name: this.props.item.name,\r\n                image: this.props.item.image,\r\n                amount: this.props.item.amount,\r\n                price: this.props.item.price\r\n            })\r\n        }\r\n    }\r\n\r\n    checkNumber(number) {\r\n        let isnum = /^\\d+$/.test(number);\r\n        return isnum;\r\n    }\r\n\r\n    checkString = text => {\r\n        if (text.trim() === \"\") {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    submitProduct = () => {\r\n\r\n        if (!this.checkString(this.state.name) || !this.checkString(this.state.price + \"\") || !this.checkString(this.state.amount + \"\")) {\r\n            alert('cần điền đầy đủ các trường');\r\n            return;\r\n        }\r\n\r\n        if (!this.checkNumber(this.state.price) || !this.checkNumber(this.state.amount)) {\r\n            alert('giá và số lượng cần là chữ số');\r\n            return;\r\n        }\r\n        let data = null;\r\n        if(this.state.id == null || this.state.id == \"\"){\r\n            data = {\r\n                \"amount\": this.state.amount,\r\n                \"image\": this.state.image,\r\n                \"name\": this.state.name,\r\n                \"price\": this.state.price\r\n            }\r\n        }else{\r\n            data = {\r\n                \"amount\": this.state.amount,\r\n                \"image\": this.state.image,\r\n                \"name\": this.state.name,\r\n                \"price\": this.state.price,\r\n                \"id\": this.state.id\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            id: \"\",\r\n            name: \"\",\r\n            image: \"\",\r\n            amount: \"\",\r\n            price: \"\"\r\n        })\r\n        ProductService.updateProduct(data,this.props.token).then(function (result) {\r\n            alert('update sản phẩm thành công');\r\n            console.log(result);\r\n        }).catch(function (error) {\r\n            alert('update sản phẩm bị lỗi');\r\n        })\r\n    }\r\n\r\n    onChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Update Sản Phẩm</h2>\r\n                <table>\r\n                    <tbody>\r\n                        {this.state.id === \"\" ? null : (\r\n                        <tr>\r\n                            <td>\r\n                                ID:\r\n                    </td>\r\n                            <td>\r\n                                <input type=\"text\" name=\"id\" value={this.state.id} onChange={this.onChange}  disabled/>\r\n                            </td>\r\n                        </tr>\r\n                        )}\r\n                        <tr>\r\n                            <td>\r\n                                Tên SP:\r\n                    </td>\r\n                            <td>\r\n                                <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.onChange} />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                Ảnh:\r\n                    </td>\r\n                            <td>\r\n                                <input type=\"text\" name=\"image\" value={this.state.image} onChange={this.onChange} />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                Số lượng:\r\n                    </td>\r\n                            <td>\r\n                                <input type=\"text\" name=\"amount\" value={this.state.amount} onChange={this.onChange} />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                Giá:\r\n                    </td>\r\n                            <td>\r\n                                <input type=\"text\" name=\"price\" value={this.state.price} onChange={this.onChange} />\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <button type=\"button\" class=\"btn btn-primary\" onClick={this.submitProduct}>Submit</button>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}