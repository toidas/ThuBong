{"version":3,"file":"static/webpack/static\\development\\pages\\bill.js.9128527c7696b0cafde2.hot-update.js","sources":["webpack:///./components/AddBillPopup.js","webpack:///./pages/bill.js"],"sourcesContent":["import BillService from '../service/BillService.js';\r\n\r\nexport default class AddBillPopup extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            id: \"\",\r\n            name: \"\",\r\n            image: \"\",\r\n            amount: \"\",\r\n            price: \"\"\r\n        };\r\n    }\r\n\r\n    checkNumber(number) {\r\n        let isnum = /^\\d+$/.test(number);\r\n        return isnum;\r\n    }\r\n\r\n    checkString = text => {\r\n        if (text.trim() === \"\") {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    submitProduct = () => {\r\n        \r\n        if(!this.checkString(this.state.name) || !this.checkString(this.state.price) || !this.checkString(this.state.amount)){\r\n            alert('cần điền đầy đủ các trường');\r\n            return;\r\n        }\r\n\r\n        if(!this.checkNumber(this.state.price) || !this.checkNumber(this.state.amount)){\r\n            alert('giá và số lượng cần là chữ số');\r\n            return;\r\n        }\r\n\r\n        let data = {\r\n            \"amount\": this.state.amount,\r\n            \"image\": this.state.image,\r\n            \"name\": this.state.name,\r\n            \"price\": this.state.price\r\n        }\r\n        \r\n        this.setState({\r\n            id: \"\",\r\n            name: \"\",\r\n            image: \"\",\r\n            amount: \"\",\r\n            price: \"\"\r\n        })\r\n        // ProductService.updateProduct(data).then(function (result) {\r\n        //     alert('thêm sản phẩm thành công');\r\n        //     console.log(result);\r\n        // }).catch(function (error) {\r\n        //     alert('thêm sản phẩm bị lỗi');\r\n        // })\r\n    }\r\n\r\n    onChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Thêm Sản Phẩm</h2>\r\n                <table>\r\n                    <tr>\r\n                        <td>\r\n                            ID:\r\n                    </td>\r\n                        <td>\r\n                            <input type=\"text\" name=\"id\" value={this.state.id} onChange={this.onChange} />\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            Tên SP:\r\n                    </td>\r\n                        <td>\r\n                            <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.onChange} />\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            Ảnh:\r\n                    </td>\r\n                        <td>\r\n                            <input type=\"text\" name=\"image\" value={this.state.image} onChange={this.onChange} />\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            Số lượng:\r\n                    </td>\r\n                        <td>\r\n                            <input type=\"text\" name=\"amount\" value={this.state.amount} onChange={this.onChange} />\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            Giá:\r\n                    </td>\r\n                        <td>\r\n                            <input type=\"text\" name=\"price\" value={this.state.price} onChange={this.onChange} />\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <button type=\"button\" onClick={this.submitProduct}>Submit</button>\r\n            </div>\r\n        );\r\n    }\r\n}","import Layout from '../components/MyLayout.js';\r\nimport BillRow from '../components/BillRow.js';\r\nimport Popup from \"reactjs-popup\";\r\nimport AddBillPopup from '../components/AddBillPopup.js';\r\nimport BillService from '../service/BillService.js';\r\nimport fetch from 'isomorphic-unfetch'\r\n\r\nconst tableStyle = {\r\n    margin: 20,\r\n    padding: 20,\r\n    border: '1px solid #DDD',\r\n}\r\n\r\nexport default class Bill extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            bills: [],\r\n            open: false\r\n        })\r\n        this.openModal = this.openModal.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n    }\r\n\r\n    openModal() {\r\n        this.setState({ open: true });\r\n    }\r\n    closeModal() {\r\n        this.getBill();\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    async getBill(){\r\n        const json = await  BillService.getBill();\r\n        console.log(json.content);\r\n        this.setState({ bills: json.content });\r\n    }\r\n\r\n    async componentWillMount() {\r\n        await this.getBill()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Layout>\r\n                <h1>Sản Phẩm</h1>\r\n                <table border=\"1\" style={tableStyle}>\r\n                    <tbody>\r\n                        <tr >\r\n                            <th>\r\n                                STT\r\n                        </th>\r\n                            <th>\r\n                                Tên\r\n                        </th>\r\n                            <th>\r\n                                Danh sách sản phẩm\r\n                        </th>\r\n                            <th>\r\n                                Giá (nghìn VND)\r\n                        </th>\r\n                            <th>\r\n                                Người tạo\r\n                        </th>\r\n                        </tr>\r\n                        {this.state.bills.map((eItem, key) =>\r\n                            <BillRow item={eItem} />\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n                <button className=\"button\" onClick={this.openModal}>\r\n                    Thêm Bill\r\n                </button>\r\n                <Popup\r\n                    open={this.state.open}\r\n                    closeOnDocumentClick\r\n                    onClose={this.closeModal}\r\n                >\r\n                    <AddBillPopup />\r\n                </Popup>\r\n            </Layout>\r\n        );\r\n    }\r\n}"],"mappings":"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","sourceRoot":""}